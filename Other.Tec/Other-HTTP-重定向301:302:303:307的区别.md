#### HTTP重定向状态码的区别

> 重定向状态码要么告知客户端使用替代位置来访问他们所感兴趣的资源,要么就提供一个替代的相应而不是资源的内容.如果资源已被移动,可发送一个重定向状态码和一个可选的Location首部来告知客户端资源已被移走,以及现在可以在哪里找到它.
>
> > 说明: http1.0规范中有两个重定向-301和302;在http1.1规范中有四个重定向-301,302,303和307.

#### 0X01 http1.0

1. 301:
   * 含义: Moved Permanently: 在请求的URL已被移除时使用.响应中的Location首部中应该包含资源现在所处的URL.
   * 301状态码在http1.0和http1.1中均表示永久重定向,对于资源请求,原来的URL和响应头中的Location的URL而言,资源应该对应Location中的URL.对于post请求的重定向,还需要用户确认后才可以进行重定向,并且应该以post方式进行重定向.
2. 302:
   * 含义: Moved Temporarily: 与301状态码类似,但是,客户端应该使用Location首部给出的URL来临时定位资源.将来的请求仍应使用老的URL.
   * 在http1.0的规范中,302标识临时重定向,Location中的资源地址不应该被认为是资源路径,在后续的使用中,继续使用原有的资源路径.
   * 规范:原请求是post不能进行重定向;原请求是get可以自动重定向.
   * 实现:浏览器和服务器端并没有严格的遵守http的规范,导致规范与实现产生了二义性,有次产生了一些问题,比如302劫持,因此在http1.1中将302的规范细化成了303和307,希望以此来消除二义性.
   * 302劫持:302劫持——A站通过重定向到B站的资源xxoo，A站实际上什么都没做但是有一个比较友好的域名，web资源xxoo存在B站并由B站提供，但是B站的域名不那么友好，因此对搜索引擎而言，可能会保存A站的地址对应xxoo资源而不是B站，这就意味着B站出了资源版权、带宽、服务器的钱，但是用户通过搜索引擎搜索xxoo资源的时候出来的是A站，A站什么都没做却被索搜引擎广而告之用户，B站做了一切却不被用户知道，价值被A站窃取了。

#### 0X02 http1.1

1. 301:
   * 和http1.0中的规范一致,注意资源对应的路径是Location中的URL不再是原有的URL.
2. 302:
   * 在http1.1中,实际上302是不再推荐使用的,只是为了做兼容而做的保留.规范中再次重申只用原请求是GET 或 HEAD时,才可以进行自动的重定向.为了消除http1.0中302的二义性,引入了303和307来细化302的语义.
3. 303:
   * 含义:See Other: 告知客户端应该用另一个URL来获取资源.新的URL位于相应报文的Location的首部.其主要目的是允许POST请求的相应将客户端定向到某个资源上去.
   * 在http1.1中,303继承了http1.0中302的实现,无论原请求是post还是get都进行重定向.
4. 307:
   * 含义: Temporary Redirect: 与301状态码类似,但客户端应该使用Location首部各处的URL来临时定位资源.将来的请求应该使用老的URL.
   * 在http1.1的规范中,307为临时重定向,如果重定向307的方法不是get或HEAD,那么浏览器不能自动的进行重定向.,即便是有Location有URL.