# JSONP
> 说到AJAX有两个问题：
> 第一个是AJAX以何种格式来交换数据？  
> 第二个是跨域的需求如何解决？  
> 到目前为止，首选的方案还是用JSON来传数据，靠JSONP来跨域。  

一、什么是JSONP？  
1. AJAX直接请求普通文件存在跨域无权访问的问题。只要是跨域请求，一律不准。  
2. web页面上调用js文件时不受是否跨域的影响（不仅如此，凡是拥有"src"这个属性的标签都有跨域的能力，比如```<script>,<img>,<iframe>```）   
3. 当前阶段如果想通过纯web端跨域访问数据就只有一种可能，就是在远程服务器上设法把数据装进js格式的文件里，供客户端调用和进一步处理。  
4. 为了便于客户端使用数据，逐渐形成了一种非正式传输协议，人们把它称作JSONP，该协议的一个要点就是允许用户传递一个callback参数给服务器，然后服务端返回数据时会将这个callback参数值作为函数名来包裹主JSON数据，这样客户端就可以随意定制自己的函数来自动处理返回数据了。  

二、jQuery实现JSONP  

*见附图*      

三、AJAX和JSONP的区别  
1. AJAX的核心是通过XmlHttpRequest获取非本页的内容，而JSONP的核心则是动态添加```<script>```标签来调用服务器提供的js脚本。  
2. AJAX和JSONP的区别不在于是否跨域，AJAX通过服务端代理一样可以实现跨域，JSONP本身也不排斥同于数据的获取。  
3. JSONP不是AJAX的一个特例。